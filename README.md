:point_right: [Stack технологій використанних в проекті](#stack)

:point_right: [Що робив](#to-do)

:point_right: [як запустити проект](#start)

## <a id="stack">Stack технологій використанних в проекті:</a>

1. **NodeJS/ES6** - платформа для сервера на мові javaScript
2. **Express** - фреймворк для разробки серверної частини.
3. **Еxpress-validator** - для валідаціі запитів
4. **MoongoDB** - документо-орієнтована система керування базами данних
5. **Mongoose** - бібліотека JavaScript, що допомагає взаємодіяти з MoongoDB (визначати схеми зі строго-типізованими даними, створювати Model (* модель), засновану на визначеній схемі,
синхронізувати з документом MongoDB за допомогою визначення схеми моделі, після визначення схем та моделей користуватися різними функціями Mongoose для перевірки, зберігання,
видалення та запиту ваших даних, використовуючи звичайні функції MongoDB.) 
7. **JSON Web Token** - для авторизації і аутентифікаціі
8. **Multer** - для завантаження файлів та зображень на сервер
9. **BCrypt** - для шифрування паролів
10. **Cors** - для можливості робити запити на наш хост з інших хостів 
11. **Nodemoon** - для відслідковування змін в проекті і автомотичного перезапуску оновленого проекта під час розробки
12. **Insomnia** - програма для тестування запитів на сервер
13. **MoongoDB Compass** -графічний кліент для роботи з MoongoDB

## <a id="to-do">Що робив:</a>

1. ***/models***
   -  Створення тепізованих схем для юзера та поста
   -  Визначення моделей заснованих на ціх схемах
   -  Зв'зування через ref автора і поста
2. ***/controllers***
   - створення контроллерів для обробки запитів(з обробкою помилок що можуть виникнути)
      - для юзера:
          - *register* - при реєстраціі (робив шифрування пароля за допомогою BCrypt, створення token за допомогою JSON Web Token, повертав в res все без пароля)
          - *login* - для ідентифікація/аутентифікаціі (пошук юзера по email, перевірка пароля в запеті з паролям існуючого юзера(за допомогою BCrypt), генерація token, повертав в res все без пароля)
          - *getMe* - для авторизаціі (знаходить юзера за userId який отримує за допомогою middleware ./utils/checkAuth.js, що додає до запиту цей userId розшифровуючи token і витягуючи з нього id )
      - для поста (CRUD):
          - *create* - Create - створення поста - для з'язуванням з автором  під ключем user при створення поста вкладав значення userId(із запиту)
          - *getAll* - Read - отримання всіх постів - створенних конкретним юзером (зв'зування через .populate("user"), під ключем user при створення поста вкладав значення userId(із запиту))
          - *getOne* - Read - отримання одного поста(через .findOneAndUpdate() для збільшення лічильника перегляду постів) - створенного конкретним юзером через id  в параметрах запиту, а також збільшував лічільник переглядів поста (зв'зування через .populate("user"), під ключем user при створення статті вкладав значення userId(із запиту)) 
          - *update* - Update - оновлення поста - створенного конкретним юзером через id  в параметрах запиту
          - *remove* - Delete - видалення поста - створенного конкретним юзером через id  в параметрах запиту
          - *getLastTags* - отримання останніх 5 тегов
3. ***/utils***
   - створено middleware
        - *checkAuth.js* для декодування token при авторизаціі
        - *handleValidationErorrs.js* для обробки помилок при валідаціі
4. ***validations.js*** - для валідаціі параметрів запиту при реєстраціі **registerValidation**,ідентифікація **loginValidation**, та при створенні поста **postCreateValidation**

---------------------------------------------------------------------------------
*** <a id="start">Як запустити проект?</a> ***

1. Скачати копію з репозіторія
2. В терміналі прописати npm init
3. Створити новий кластер в MoongoDB
4. Установити  MoongoDB Compass
5. Підключитись до MoongoDB через программу MoongoDB Compass
6. В index.js підключити MoongoDB(строка 17)
   
   `
  mongoose
   .connect(
     "всталяємо наш URI з MoongoDB замість <user name> та <password> вставити username та password використаний при створенні кластера")
   .then(() => {console.log("DB ok");})
   .catch((err) => console.log("DB error", err));
`
8. В терміналі прописати npm run start:dev (запустити сервер, в терміналі буде сповіщення "DB ok" та "server ok")
9. Установити Insomnia для тестування запитів (або скачати fronend до цього проекта та робити запити з додатку)


